# LiveClassroom

> Generated by jaan.to | 2026-02-07

---

## Executive Summary

A production-grade live classroom layout component built with React 18 + TypeScript + TailwindCSS, featuring an instructor "stage" video area, participant video grid, tabbed sidebar (Chat/Participants), and floating toolbar with keyboard shortcuts. Designed with a Professional & Clean aesthetic using warm stone tones for a connected classroom feel, with full Light & Dark mode support.

---

## Overview

| Field | Value |
|-------|-------|
| Component | `LiveClassroom` |
| Framework | React v18.2 + Next.js v14.1 + TypeScript v5.3 |
| Styling | TailwindCSS v3.4 + CSS Custom Properties |
| Type | Full Layout (page-level composite) |
| Design Direction | Professional & Clean / Warm & Connected |
| Generated | 2026-02-07 |

The LiveClassroom component is a full-screen layout for real-time video instruction in EduStream Academy. It composes 7 sub-components into a responsive grid: instructor video with "stage" elevation, participant thumbnail grid (12 visible + overflow), chat panel with auto-scroll, participant list with search, and a floating toolbar with mic/camera/hand raise/screen share/leave controls.

---

## Design Rationale

### Aesthetic Choices

- **Typography**: Plus Jakarta Sans — warm geometric sans-serif that feels approachable yet professional. Avoids overused Inter/Roboto.
- **Color Palette**: Warm stone tones (`stone-50` through `stone-900`) instead of cold grays. Blue primary (`#3B82F6`) for interactive elements, coral accents for emphasis.
- **Video Tiles**: Rounded corners (`rounded-2xl`) with subtle speaking indicators (blue ring + animated bars) that feel organic rather than clinical.
- **Instructor Stage**: Elevated card with warm shadow — creates visual hierarchy that mirrors a physical classroom where the teacher is "at the front."

**Why these choices?**
The Professional & Clean direction combined with Warm & Connected emotion required a design that feels trustworthy and structured (like enterprise software) while maintaining the collaborative warmth of a real classroom. The warm stone palette achieves this by avoiding the cold sterility of pure grays while remaining professional.

**Differentiation from generic patterns:**
- No purple gradients or glassmorphism effects
- Asymmetric layout weighting (65/35 split, not 50/50)
- Instructor "stage" metaphor with elevated card treatment
- Speaking indicators use gentle bar animations rather than harsh green borders
- Warm off-white backgrounds (`#F8F7F4`) instead of pure white

### Technical Approach

- **Layout**: CSS Grid with `flex-1` for responsive main area + fixed-width sidebar (320px). Mobile stacks vertically with sidebar as overlay.
- **Typography**: Plus Jakarta Sans loaded via system font stack fallback. Fluid sizing with Tailwind's responsive utilities. rem/em units throughout.
- **Color**: CSS custom properties for theming (`--color-bg`, `--color-surface`, `--color-border`). TailwindCSS `dark:` prefix for dark mode classes.
- **Motion**: 200ms ease-in-out transitions. Speaking bar animation at 0.5s. Chat messages slide in from bottom. `prefers-reduced-motion` respected.
- **Responsive**: Mobile-first. Sidebar collapses to overlay below `lg` (1024px). Video grid columns adapt: 6 → 4 → 3 → 2.

---

## Usage

### Installation

```bash
# Copy component file to your project
cp 01-component-code-live-classroom.tsx src/components/LiveClassroom.tsx

# Ensure Plus Jakarta Sans is loaded (add to layout.tsx or _app.tsx)
# next/font example:
import { Plus_Jakarta_Sans } from 'next/font/google'
const jakarta = Plus_Jakarta_Sans({ subsets: ['latin'] })
```

### Basic Usage

```tsx
import LiveClassroom from '@/components/LiveClassroom';

export default function LiveSessionPage() {
  const [isMuted, setIsMuted] = useState(false);
  const [isCameraOff, setIsCameraOff] = useState(false);

  return (
    <LiveClassroom
      sessionId="session-abc123"
      currentUserId="user-1"
      instructor={{
        id: 'instructor-1',
        name: 'Prof. Sarah Chen',
        isMuted: false,
        isCameraOff: false,
        isSpeaking: true,
        isHandRaised: false,
        connectionStatus: 'connected',
      }}
      participants={participants}
      chatMessages={messages}
      isMuted={isMuted}
      isCameraOff={isCameraOff}
      onToggleMic={() => setIsMuted(!isMuted)}
      onToggleCamera={() => setIsCameraOff(!isCameraOff)}
      onSendMessage={(text) => sendChatMessage(text)}
      onLeaveSession={() => router.push('/sessions')}
    />
  );
}
```

### Props API

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| `sessionId` | `string` | Yes | — | Unique session identifier |
| `instructor` | `Participant` | Yes | — | Instructor participant data |
| `participants` | `Participant[]` | Yes | — | Array of student participants |
| `chatMessages` | `ChatMessageData[]` | Yes | — | Array of chat messages |
| `currentUserId` | `string` | Yes | — | Current user's ID |
| `isMuted` | `boolean` | No | `false` | Whether mic is muted |
| `isCameraOff` | `boolean` | No | `false` | Whether camera is off |
| `isHandRaised` | `boolean` | No | `false` | Whether hand is raised |
| `isScreenSharing` | `boolean` | No | `false` | Whether screen sharing |
| `onToggleMic` | `() => void` | No | — | Mic toggle callback |
| `onToggleCamera` | `() => void` | No | — | Camera toggle callback |
| `onToggleHandRaise` | `() => void` | No | — | Hand raise toggle callback |
| `onToggleScreenShare` | `() => void` | No | — | Screen share toggle callback |
| `onSendMessage` | `(text: string) => void` | No | — | Send chat message callback |
| `onLeaveSession` | `() => void` | No | — | Leave session callback |

### Type Definitions

```typescript
interface Participant {
  id: string;
  name: string;
  avatar?: string;
  isMuted: boolean;
  isCameraOff: boolean;
  isSpeaking: boolean;
  isHandRaised: boolean;
  connectionStatus: 'connected' | 'reconnecting' | 'disconnected';
}

interface ChatMessageData {
  id: string;
  senderId: string;
  senderName: string;
  senderAvatar?: string;
  text: string;
  timestamp: Date;
}
```

---

## Code

See `01-component-code-live-classroom.tsx` for full implementation.

### Key Highlights

```tsx
// Instructor "stage" with elevated card treatment
<div className="rounded-3xl bg-white p-1 shadow-lg shadow-stone-200/50
  dark:bg-stone-800 dark:shadow-stone-950/50">
  <VideoTile participant={instructor} size="lg" />
</div>

// Speaking indicator with animated bars
{participant.isSpeaking && (
  <div className="absolute left-2 top-2 flex items-end gap-0.5">
    <div className="h-2 w-0.5 animate-[speakingBar_0.5s_ease-in-out_infinite_alternate]
      rounded-full bg-blue-400" />
    ...
  </div>
)}

// Keyboard shortcuts (M, V, H, S, L, C)
useEffect(() => {
  const handler = (e: KeyboardEvent) => {
    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') return;
    switch (e.key.toLowerCase()) {
      case 'm': onToggleMic?.(); break;
      case 'v': onToggleCamera?.(); break;
      // ...
    }
  };
  document.addEventListener('keydown', handler);
  return () => document.removeEventListener('keydown', handler);
}, [/* deps */]);
```

---

## Accessibility

**WCAG Compliance**: AA

| Aspect | Implementation |
|--------|----------------|
| Keyboard Navigation | Full Tab navigation through toolbar buttons, sidebar tabs, chat input. M/V/H/S/L/C shortcuts (disabled in input fields). Escape closes sidebar on mobile. |
| Screen Reader | ARIA live region on chat messages (`role="log"`, `aria-live="polite"`). All buttons have `aria-label`. Toolbar uses `role="toolbar"`. Video tiles use `role="img"` with descriptive labels. |
| Color Contrast | WCAG AA verified — white text on dark overlays (>4.5:1), stone-600 on stone-50 (>4.5:1), blue-500 on white (>3:1 for UI). |
| Focus Indicators | Default browser focus ring enhanced with `focus:ring-2 focus:ring-blue-400 focus:ring-offset-2`. Skip links provided ("Skip to video", "Skip to chat"). |

Additional:
- Skip navigation links at page top
- `aria-pressed` on toggle buttons (mic, camera, hand)
- `aria-expanded` on sidebar toggle
- `aria-selected` on tab buttons
- Connection status announced via `aria-label` on indicator dots
- Semantic HTML: `<header>`, `<main>`, `<aside>`, `<nav>`, `<footer>`

---

## Responsive Behavior

| Breakpoint | Behavior |
|------------|----------|
| Mobile (<768px) | Stacked layout. Sidebar opens as fixed overlay from right with backdrop. Video grid: 2 columns. Toolbar centered at bottom. |
| Tablet (768-1024px) | Stacked layout. Video grid: 3-4 columns. Sidebar overlay with larger width. |
| Desktop (>1024px) | Side-by-side: main video area 65% + sidebar 35%. Video grid: 4-6 columns. Sidebar always visible. |

---

## Customization

### CSS Variables

```css
/* Override these in your global CSS or parent component */
:root {
  --color-bg: #F8F7F4;          /* Page background */
  --color-surface: #FFFFFF;      /* Card/panel background */
  --color-border: #E7E5E4;      /* Border color */
  --color-text: #1C1917;         /* Primary text */
  --color-text-secondary: #78716C; /* Secondary text */
  --color-text-muted: #A8A29E;  /* Muted/hint text */
  --color-primary: #3B82F6;     /* Primary action color */
  --color-danger: #EF4444;      /* Danger/leave color */
  --color-success: #10B981;     /* Connected indicator */
}

/* Dark mode overrides */
[data-theme="dark"], .dark {
  --color-bg: #1C1917;
  --color-surface: #292524;
  --color-border: #44403C;
  --color-text: #F5F5F4;
  --color-text-secondary: #A8A29E;
  --color-text-muted: #78716C;
}
```

### Theme Variants

The component supports two theme modes:
1. **Light mode** (default) — Warm off-white background with stone borders
2. **Dark mode** — Deep warm charcoal with stone-800 borders

Dark mode activates via:
- TailwindCSS `dark:` class (class-based strategy)
- CSS `[data-theme="dark"]` attribute (preview file)
- `@media (prefers-color-scheme: dark)` (system preference in preview)

---

## Preview

Open `01-component-preview-live-classroom.html` in your browser to see the component in action with:
- 15 mock participants with varied states (speaking, muted, camera off, hand raised, reconnecting, disconnected)
- 8 chat messages simulating a real classroom discussion about WebRTC architecture
- Interactive toolbar (click or use M/V/H keyboard shortcuts)
- Light/Dark theme toggle (top right)
- Tab switching between Chat and Participants views

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | 2026-02-07 |
| Skill | jaan-to-dev-fe-design |
| Framework | React v18.2 + Next.js v14.1 + TypeScript v5.3 |
| Output Path | jaan-to/outputs/dev/components/01-live-classroom/ |
| Version | 3.0 |
