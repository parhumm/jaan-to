---
title: "qa-test-run"
sidebar_position: 4
doc_type: skill
created_date: 2026-02-14
updated_date: 2026-02-23
tags: [qa, test, run, execute, coverage, vitest, phpunit, playwright, go-test, multi-stack]
related: [qa-test-generate, qa-test-cases, backend-scaffold, frontend-scaffold]
---

# /qa-test-run

> Execute tests across stacks, diagnose failures, auto-fix simple issues, and generate coverage reports.

---

## Overview

Executes test suites generated by `/qa-test-generate` (or existing project tests), diagnoses failures into categories, auto-fixes infrastructure issues, and produces structured coverage reports. Supports Node.js/TypeScript (Vitest, Jest, Playwright), PHP (PHPUnit, Pest, Laravel Dusk), and Go (`go test`). Uses tech.md for stack detection.

---

## Usage

```
/qa-test-run
/qa-test-run path/to/test-generate-output
/qa-test-run tests/ --unit
```

| Argument | Required | Description |
|----------|----------|-------------|
| test source | No | Path to qa-test-generate output or test directory |
| `--unit` | No | Run unit tests only |
| `--integration` | No | Run integration tests only |
| `--e2e` | No | Run E2E tests only |
| `--all` | No | Run all tiers (default) |
| `--mutation` | No | Run mutation testing tier, parse mutation score, and track iteration counts |

When run without arguments, launches an interactive wizard.

---

## What It Produces

Files at `$JAAN_OUTPUTS_DIR/qa/test-run/{id}-{slug}/`:

| File | Content |
|------|---------|
| `{id}-{slug}.md` | Test execution report with coverage data |

The report includes:
- Test results per tier (pass/fail/skip counts)
- Coverage percentages (line, branch)
- Mutation score (when `--mutation` is used): killed/survived/total mutant counts and mutation score percentage
- Mutation iteration tracking (when `--mutation` is used): iteration count, score progression across runs
- Failure analysis by category
- Auto-fix summary
- Suggested fixes for manual failures
- Coverage gaps

---

## What It Asks

| Question | When | Why |
|----------|------|-----|
| Test file location | No input provided | Need to find tests |
| Tier filter | Ambiguous scope | Unit / integration / E2E / all |
| Environment values | Missing `.env.test` | DB URL, API keys for test env |
| Coverage thresholds | Not in config | Team-specific standards |

---

## Failure Diagnosis

Categorizes failures for targeted fixes:

| Category | Auto-Fix | Examples |
|----------|----------|---------|
| Import/Module | Yes | Missing modules, wrong paths |
| ORM/DB client | Yes | Prisma not generated, migrations pending |
| Environment | Yes (asks values) | Missing env vars |
| Assertion | No | Business logic mismatches |
| Timeout/Async | Suggest | Missing await, goroutine leaks |
| Database/State | Suggest | Missing seed data, connection refused |
| Mock/Fixture | Suggest | Stale snapshots, missing handlers |

---

## Multi-Stack Support

| Stack | Test Runner | E2E Runner | Coverage Tool |
|-------|-------------|------------|---------------|
| Node.js / TypeScript | Vitest / Jest | Playwright / Cypress | @vitest/coverage-v8 / istanbul |
| PHP | PHPUnit / Pest | Laravel Dusk / Codeception | Xdebug / PCOV |
| Go | `go test` | Rod / Chromedp | `go test -cover` |

Stack is auto-detected from `tech.md` or lockfiles.

---

## Workflow Chain

```
/qa-test-generate --> /qa-test-run
```

---

## Example

**Input:**
```
/qa-test-run path/to/test-generate/01-user-auth/ --all
```

**Output:**
```
jaan-to/outputs/qa/test-run/01-user-auth/
└── 01-user-auth.md    (execution report)
```

**Report summary:**
```
Total: 42 tests | Passed: 38 | Failed: 4 | Auto-Fixed: 2
Coverage: 82% line, 71% branch
```

---

## Tips

- Run `/qa-test-generate` first to create test files
- Use `--unit` for fast feedback during development
- Auto-fix handles infrastructure issues; assertion failures require manual fixes
- Coverage is parsed per stack (Istanbul/v8, PHPUnit XML, go tool cover)

---

## Related Skills

- [/qa-test-generate](test-generate.md) - Generate runnable test files
- [/qa-test-cases](test-cases.md) - Generate BDD/Gherkin test cases
- [/qa-test-mutate](test-mutate.md) - Mutation testing to find surviving mutants (feeds `--mutation` mode)

---

## Technical Details

- **Logical Name**: qa-test-run
- **Command**: `/qa-test-run`
- **Role**: qa
- **Output**: `$JAAN_OUTPUTS_DIR/qa/test-run/{id}-{slug}/`
